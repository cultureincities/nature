<!DOCTYPE html>
<html data-wf-page="5e9080cb6cb4099e305743f6" data-wf-site="5e9080cbd658d46fd2659216">

<!-- the head -->
<head>
    <meta charset="utf-8">
    <title>nature</title>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="Webflow" name="generator">
    <link href="css/normalize.css" rel="stylesheet" type="text/css">
    <link href="css/webflow.css" rel="stylesheet" type="text/css">
    <link href="css/nature-byom.webflow.css" rel="stylesheet" type="text/css">

    <!-- what is this bro?????? -->
    <!-- <style>@media (min-width:992px) {html.w-mod-js:not(.w-mod-ix) [data-w-id="d6423925-a05c-97f6-5547-12e94beeba4a"] {width:0PX;}html.w-mod-js:not(.w-mod-ix) [data-w-id="d6423925-a05c-97f6-5547-12e94beeba4c"] {width:0PX;}html.w-mod-js:not(.w-mod-ix) [data-w-id="d6423925-a05c-97f6-5547-12e94beeba4b"] {width:0PX;}}@media (max-width:991px) and (min-width:768px) {html.w-mod-js:not(.w-mod-ix) [data-w-id="d6423925-a05c-97f6-5547-12e94beeba4a"] {width:0PX;}html.w-mod-js:not(.w-mod-ix) [data-w-id="d6423925-a05c-97f6-5547-12e94beeba4c"] {width:0PX;}html.w-mod-js:not(.w-mod-ix) [data-w-id="d6423925-a05c-97f6-5547-12e94beeba4b"] {width:0PX;}}</style> -->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">WebFont.load({  google: {    families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic","Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"]  }});</script>

    <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->

    <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>

    <!-- favicon -->
    <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
    <link href="images/webclip.png" rel="apple-touch-icon">

    <!-- add mapbox libraries -->
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.css" rel="stylesheet">

    <!-- add mapbox styles -->
    <style>
        /* body { margin: 0; padding: 0; }
        #map { width: 100%; height: 100%; } */
        body { margin-top: 0; padding: 0; }
        #map {  
                display: inline-block; 
                margin: 0 auto;
                padding: 0;
                width: 100%;
                height: 100%;
               }

    </style>
</head>

<!-- the body -->
<body class="body">

  <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.min.js"></script>
  <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.css" type="text/css"/>
  <!-- Promise polyfill script required to use Mapbox GL Geocoder in IE 11 -->
  <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>

  <!-- ---------- BEGINNNING of hero div ----------  -->
  <div class="hero">

  <!-- NOT TOO SURE WHAT THIS DIV IS -->
  <div class="w-embed">
          <style>
              .w-slider-dot {
                  width: 10px;
                  height: 10px;
                  background-color: rgba(28, 58, 107, 0);
                  border: 2px solid rgba(28, 58, 107, 1);
                  border-radius: 100px;
                  transition-property: all;
                  transition-duration: 200ms;
                  transition-timing-function: ease;
                  transition-delay: 0s;
              }
              .w-slider-dot.w-active {
                  width: 30px;
                  height: 30px;
                  background-color: rgba(28, 58, 107, 1);
                  border: 2px solid rgba(28, 58, 107, 1);
                  border-radius: 100px;
                  transition-property: all;
                  transition-duration: 200ms;
                  transition-timing-function: ease;
                  transition-delay: 0s;
                }
              .overlay {
                  pointer-events: none;
                }
              .hero-h4 {
                  writing-mode: vertical-lr;
                }               
          </style>
    </div>

    <!-- ---------- BEGINNING of slider containner ----------  -->
    <div class="slider-container">

    <!-- ---------- BEGINNING of hero slider container ----------  -->
    <div data-delay="4000" data-animation="slide" data-autoplay="1" data-nav-spacing="2" data-duration="1000" data-infinite="1" class="hero-slider w-slider">

    <!-- 1. NAVIGATION -->
    <div data-collapse="medium" data-animation="default" data-duration="400" class="navbar w-nav">
      <a href="#" class="brand w-nav-brand">
        <div class="h1 nav-logo">nature map</div>
      </a>
      <div class="container w-container"></div>
    </div>


      <!-- ***************************************** -->
      <!-- COPY AND PASTE ALL OF THIS INTO NEW DESIGNS -->
      <!-- ***************************************** -->

      <!-- 2. BEGINNNING of the mask container for the map -->
        <div class="mask w-slider-mask">
          
          <!-- the div container for the slider -->
          <div class="slide w-slide">

            <h1 class="hero-h4">Map of Nature in LDN</h1>
                
            <!-- --- BEGINNNING of div container for the map--- -->
            <div class="map">
            <!-- <div class="w-embed w-script"> -->

              <!-- style the pop up -->
              <style>
                .mapboxgl-popup {
                  max-width: 400px;
                  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
                }
              </style>

              <!-- the mapbox div for the map -->
              <!-- <div id="map" class="map"> -->
              <div id="map"> 

                <!-- Top left Legend -->
                <div id='legend-right'>
                  
                  <!-- nature rating div -->
                  <div class='session'>
                    <p><b>Nature rating</b></p>
                      <div class='row colors'> </div>
                      <div class='row labels'>
                          <div class='label'>1</div>
                          <div class='label'>2</div>
                          <div class='label'>3</div>
                          <div class='label'>4</div>
                          <div class='label'>5</div>
                        </div>
                  </div>

                  <!-- interactive button div -->
                  <div class='session'>
                    <p><b>Nature Filter</b></p>
                    <div class='row' id='filters'>
                      <div class='label2'>
                        <input id='all' type='radio' name='toggle' value='all' checked='checked'>
                        <label for='all'>All</label>
                      </div>
                      <div class='label2'>
                        <input id='park' type='radio' name='toggle' value='park'>
                        <label for='park'>Park</label>
                      </div>
                      <div class='label2'>
                        <input id='forest' type='radio' name='toggle' value='forest'>
                        <label for='forest'>Forest</label>
                      </div>
                      <div class='label2'>
                        <input id='allotments' type='radio' name='toggle' value='allotments'>
                        <label for='allotments'>Allotments</label>
                      </div>
                    </div>
                  </div>

                </div>
                <!-- End of Legend -->

              </div>
              <!-- End of mapbox div for the map -->

              <!-- button for fly -->
              <br />
              <button id="fly">Fly</button>

              <!-- the javascript for mapbox -->
              <script>
                mapboxgl.accessToken = 'pk.eyJ1IjoidmlzaGFsa3VtYXJsb25kb24iLCJhIjoiY2pmZHVmdG84MXM1YTJxbXM2d3RmbnBnNSJ9.bYO0LW7BJr8pzbYThWOrdw';

                var map = new mapboxgl.Map({
                    container: 'map', // container id
                    style: 'mapbox://styles/vishalkumarlondon/ck95pplbp297q1inv9j8s95ki', // stylesheet location
                    center: [-0.1, 51.5074], // starting position [lng, lat]
                    zoom: 9 // starting zoom
                  });

                //main function to load the map
                map.on('load', function() {

                  //function to add shapefile layer of nature in London
                  map.addLayer({
                      id: 'nature-layer',
                      type: 'fill',
                      source: {
                        type: 'geojson',
                        data: 'http://cultureincities.com/nature/data/osm_london_clean.geojson'
                      },
                      paint: {
                        'fill-color': [
                          'interpolate',
                          ['linear'],
                          ['number', ['get', 'rating']],
                          1,
                          '#fae9fc',
                          2,
                          '#e5b8f4',
                          3,
                          '#f384fb',
                          4,
                          '#b6f5a3',
                          4.5,
                          '#46e515',
                          5,
                          '#2e9410'
                        ],
                        'fill-opacity': 1,
                        'fill-outline-color': 'rgba(155, 100, 75, 1)'
                      }
                    });

                    //add fill layer of London borough shapes
                    map.addLayer({
                      id: 'london-boundaries-fill',
                      type: 'fill',
                      source: {
                        type: 'geojson',
                        data: 'http://cultureincities.com/nature/data/london_borough.geojson'
                      },
                      paint: {
                        'fill-color': 'rgba(0, 0, 0, 0)',
                        'fill-outline-color': 'rgba(255, 255, 255, 0.5)'
                      }
                    });

                    //add fill layer of London borough shapes
                    //https://stackoverflow.com/questions/50351902/in-a-mapbox-gl-js-layer-of-type-fill-can-we-control-the-stroke-thickness/50372832#50372832
                    map.addLayer({
                      id: 'london-boundaries-line',
                      type: 'line',
                      source: {
                        type: 'geojson',
                        data: 'http://cultureincities.com/nature/data/london_borough.geojson'
                      },
                      paint: {
                        'line-color': 'rgba(255, 255, 255, 0.5)',
                        'line-width': 1
                      }
                    });


                    document.getElementById('filters').addEventListener('change', function(e) {
                        var n_type = e.target.value;
                        // update the map filter
                        if (n_type === 'all') {
                          filterNature = ['!=', ['string', ['get', 'fclass']], 'placeholder'];

                        } else if (n_type === 'park') {
                          filterNature = ['match', ['get', 'fclass'], ['park'], true, false];

                        } else if (n_type === 'forest') {
                          filterNature = ['match', ['get', 'fclass'], ['forest'], true, false];

                        } else if (n_type === 'allotments') {
                          filterNature = ['match', ['get', 'fclass'], ['allotments'], true, false];
                          
                        } else {
                          console.log('error');
                        }
                        map.setFilter('nature-layer', ['all', filterNature]);
                      });

                
                    map.moveLayer('nature-layer', 'london-boundaries-fill');
                    map.moveLayer('london-boundaries-fill', 'london-boundaries-line');
                        
                    // When a click event occurs on a feature in the nature layer, open a popup at the
                    // location of the click, with description HTML from its properties.
                    map.on('click', 'nature-layer', function(e) {
                      new mapboxgl.Popup()
                      .setLngLat(e.lngLat)
                      .setHTML(e.features[0].properties.name + ", " + e.features[0].properties.rating)
                      .addTo(map);
                    });
                  
                    // Change the cursor to a pointer when the mouse is over the nature layer.
                    map.on('mouseenter', 'nature-layer', function() {
                      map.getCanvas().style.cursor = 'pointer';
                    });
                    
                    // Change it back to a pointer when it leaves.
                    map.on('mouseleave', 'nature-layer', function() {
                        map.getCanvas().style.cursor = '';
                      });


                });   

                // Areas of London to Fly to
                var chapters = {
                  // 'baker': {
                  // bearing: 27,
                  // center: [-0.15591514, 51.51830379],
                  // zoom: 15.5,
                  // pitch: 20
                  // },
                  // 'aldgate': {
                  // duration: 6000,
                  // center: [-0.07571203, 51.51424049],
                  // bearing: 150,
                  // zoom: 15,
                  // pitch: 0
                  // },
                  // 'london-bridge': {
                  // bearing: 90,
                  // center: [-0.08533793, 51.50438536],
                  // zoom: 13,
                  // speed: 0.6,
                  // pitch: 40
                  // },
                  // 'woolwich': {
                  // bearing: 90,
                  // center: [0.05991101, 51.48752939],
                  // zoom: 12.3
                  // },
                  // 'gloucester': {
                  // bearing: 45,
                  // center: [-0.18335806, 51.49439521],
                  // zoom: 15.3,
                  // pitch: 20,
                  // speed: 0.5
                  // },
                  // 'caulfield-gardens': {
                  // bearing: 180,
                  // center: [-0.19684993, 51.5033856],
                  // zoom: 12.3
                  // },
                  // 'telegraph': {
                  // bearing: 90,
                  // center: [-0.10669358, 51.51433123],
                  // zoom: 17.3,
                  // pitch: 40
                  // },
                  'charing-cross': {
                  bearing: 0,
                  center: [-0.12416858, 51.50779757],
                  zoom: 12.1,
                  pitch: 0
                  }
                };

                // Javascript function when clicked go to area
                document.getElementById('fly').addEventListener('click', function() {
                  // cities.features.forEach(function(city, index) {
                  //   setTimeout(function() {
                  //     map.flyTo({ center: city.geometry.coordinates, zoom: 12, easing(t) { return t; }, curve: 1 }); }, 
                  //     4000 * index);
                  //   });
                  var chapterNames = Object.keys(chapters);
                    for (var i = 0; i < chapterNames.length; i++) {
                    var chapterName = chapterNames[i];
                      }
                      map.flyTo(chapters[chapterName]);
                  });

              
              </script>
            <!-- </div> -->
            </div>
            <!-- --- END of div container for the map--- -->

            </div>
            <!-- end -->


        </div>
      <!-- 2. END of the mask container for the map -->

      <!-- ***************************************** -->
      <!-- COPY AND PASTE ALL OF THIS INTO NEW DESIGNS -->
      <!-- ***************************************** -->


      <!-- 3. SOMETHING ABOUT ARROWS??? -->
      <!-- <div class="left-arrow w-slider-arrow-left">
        <div class="fontawesome"></div>
      </div>
      <div class="right-arrow w-slider-arrow-right">
        <div class="fontawesome"></div>
      </div> -->


      <!-- 4. ruler line on the left -->
      <div class="rule"></div>

      <!-- 5. div for the scroller -->
      <!-- <div class="scroll-indicator-container">
        <a href="#" class="scroll-indicator w-inline-block">
          <div style="-webkit-transform:translate3d(0PX, -5PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0PX, -5PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0PX, -5PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0PX, -5PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="scroll"></div>
        </a>
      </div> -->

      <!-- 6. div for the dropdown menu scroller -->
      <div class="menu-block-primary">
        <div class="menu-padding">
          <div class="menu-link-container-2"><a href="#" class="menu-link-2"></a>
            <p class="paragraph"><b>London National Park City!</b></p>
            <p class="paragraph">Discover the various green infrastructure of London.</p>
            <br>
            <p class="paragraph">Green infrastructure is a term being used by the Greater London Authority (GLA) and the Mayor of London to describe London’s network of parks, green spaces, gardens, woodlands, rivers and wetlands (as well as features such as street trees and green roofs). Green infrastructure are spaces for people to relax, exercise, play, and enjoy London’s natural heritage and culture. They help to promote healthier lifestyle, improve air quality, reduce impacts of climate change and improve nature biodiversity.</p>
            <br>
            <p class="paragraph">The map shows more than 2500 green spaces. These parks and gardens have been selected as they have been rated by users on Google Maps. The map's default view shows you most of all the green spaces in London. Each space is coloured according to its rating on Google Review (low rating coloured in pink, high rating coloured in green). The button on the left panel allows you  to view only specific green spaces. Here parks, forests and allotment gardens can be filtered.</p>
            <br>
            <p class="paragraph">This project has been made by Vishal Kumar and Aude Vuilliomenet as part of the CASA students ”Lockdown Map Project”. Vishal Kumar is a Cultural Data Scientist at The Bartlett Centre for Advanced Spatial Analysis (CASA) at UCL who researches the economic and social value of art and culture in cities. Aude is an aspiring PhD Student in Urban Data Science at The Bartlett, CASA at UCL to research how the benefits of connected gardens and parks to improve cities’ biodiversity and resilience.</p>
            <br>
            <p class="paragraph">Source: <a href="http://download.geofabrik.de/europe/great-britain/england/greater-london.html">Geofrabrik</a> for dataset on parks, and <a href="https://data.london.gov.uk/dataset/statistical-gis-boundary-files-london">London Data Store</a> for London Borough boundary files.</p> 
            <div class="fontawesome-close-menu-2"></div>
          </div>
        </div>
      </div>

      <!-- 7. div for the menu button in the top right -->
      <div class="menu-button-2 w-clearfix">
        <div data-w-id="d6423925-a05c-97f6-5547-12e94beeba4a" class="line-1-2"></div>
        <div data-w-id="d6423925-a05c-97f6-5547-12e94beeba4b" class="line-2-2"></div>
        <div data-w-id="d6423925-a05c-97f6-5547-12e94beeba4c" class="line-3-2"></div>
        <div class="menu-block-2"></div>
        <div class="menu-block-2"></div>
        <div class="menu-block-2"></div>
        <div class="menu-block-2"></div>
        <div class="menu-block-2"></div>
        <div class="menu-block-2"></div>
        <div class="menu-block-2"></div>
        <div class="menu-block-2"></div>
        <div class="menu-block-2"></div>
      </div>

    <!-- 8. div for the dropdown menu scroller -->
    <!-- <div class="slide-nav w-slider-nav"></div> -->

        
        
      </div>
      <!-- ---------- END of hero slider container ----------  -->



    </div>
    <!-- ---------- ENND of slider containner div ----------  -->


    
  </div>
  <!-- ---------- END of hero div ----------  -->

  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js?site=5e9080cbd658d46fd2659216" type="text/javascript" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>

  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>